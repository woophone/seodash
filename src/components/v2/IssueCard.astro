---
interface Props {
  severity: 'critical' | 'warning' | 'info';
  category: string;
  action: string;
  detail?: string;
  status?: 'pending' | 'completed' | 'verified';
}

const { severity, category, action, detail, status } = Astro.props;

const severityStyles = {
  critical: 'border-l-red-500 bg-red-50/50',
  warning: 'border-l-amber-500 bg-amber-50/50',
  info: 'border-l-blue-500 bg-blue-50/50',
};

const severityLabel = {
  critical: 'Critical',
  warning: 'Warning',
  info: 'Info',
};

const statusStyles = {
  pending: 'bg-amber-100 text-amber-800',
  completed: 'bg-green-100 text-green-800',
  verified: 'bg-blue-100 text-blue-800',
};
---

<div class={`border-l-4 rounded-r-lg p-3 sm:p-4 ${severityStyles[severity]}`}>
  <div class="flex items-start justify-between gap-2">
    <div class="flex-1">
      <div class="flex items-center gap-2 mb-1">
        <span class="text-xs font-medium text-gray-500 uppercase">{category}</span>
        <span class="text-xs text-gray-300">|</span>
        <span class="text-xs text-gray-400">{severityLabel[severity]}</span>
      </div>
      <p class="text-sm font-medium text-gray-900">{action}</p>
      {detail && <p class="text-xs text-gray-500 mt-1">{detail}</p>}
    </div>
    {status && (
      <span class={`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium flex-shrink-0 ${statusStyles[status]}`}>
        {status}
      </span>
    )}
  </div>
</div>
